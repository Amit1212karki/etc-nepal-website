{% extends 'front/layout/main.html' %}

{% block title %}Video Gallery{% endblock %}

{% block content %}
<div class="header px-14 py-14">
    <div class="title-content">
        <h1 class="text-3xl font-bold text-yellow-600">Video Gallery</h1>
        <span class="text-gray-500">Explore the publications and projects brought to you by our dedicated team members.</span>
    </div>
</div>

<div class="news-container px-14">
    <div class="flex flex-wrap">
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
            {% if videos %}
                {% for video in videos %}
                <div class="relative overflow-hidden rounded-lg h-72 group"
                     style="position: relative; overflow: hidden;"
                     onmouseover="this.querySelector('.video-element').pause(); this.querySelector('.overlay').style.opacity = '1';"
                     onmouseout="this.querySelector('.video-element').play(); this.querySelector('.overlay').style.opacity = '0';">
                    <video class="video-element w-full h-full object-cover" autoplay muted loop
                           style="width: 100%; height: 100%; object-fit: cover;">
                        <source src="{{ video.video.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="overlay"
                         style="position: absolute; top: 0; left: 0; right: 0; bottom: 0;
                                background-color: rgba(0, 0, 0, 0.5); /* Adjust the background color as needed */
                                display: flex; flex-direction: column; justify-content: center;
                                align-items: center; opacity: 0; transition: opacity 0.3s ease;
                                color: white; text-align: center; padding: 1rem;">
                        <p class="text-white text-lg font-bold text-center mb-2">{{ video.title|truncatechars:100 }}</p>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="col-span-full text-center py-8">
                    <p class="text-lg text-gray-600">No videos available at the moment.</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>




<script>
    document.addEventListener('DOMContentLoaded', () => {
        const videoContainers = document.querySelectorAll('.video-container');
    
        videoContainers.forEach(container => {
            const video = container.querySelector('.video-element');
            const overlay = container.querySelector('.overlay');
    
            container.addEventListener('mouseenter', () => {
                video.pause();
                video.currentTime = 0; 
                overlay.style.opacity = 1;
            });
    
            container.addEventListener('mouseleave', () => {
                video.play();
                overlay.style.opacity = 0;
            });
        });
    });
</script>

{% endblock %}
